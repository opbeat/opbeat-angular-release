!function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){(function(r){!function(o,i){"use strict";"function"==typeof r&&r.amd?r("error-stack-parser",["stackframe"],i):"object"==typeof n?e.exports=i(t("stackframe")):o.ErrorStackParser=i(o.StackFrame)}(this,function(t){"use strict";function e(t,e,n){if("function"==typeof Array.prototype.map)return t.map(e,n);for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=e.call(n,t[o]);return r}function n(t,e,n){if("function"==typeof Array.prototype.filter)return t.filter(e,n);for(var r=[],o=0;o<t.length;o++)e.call(n,t[o])&&r.push(t[o]);return r}var r=/(^|@)\S+\:\d+/,o=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/^(eval@)?(\[native code\])?$/;return{parse:function(t){if("undefined"!=typeof t.stacktrace||"undefined"!=typeof t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(o))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=t.replace(/[\(\)\s]/g,"").split(":"),n=e.pop(),r=e[e.length-1];if(!isNaN(parseFloat(r))&&isFinite(r)){var o=e.pop();return[e.join(":"),o,n]}return[e.join(":"),n,void 0]},parseV8OrIE:function(r){var i=n(r.stack.split("\n"),function(t){return!!t.match(o)},this);return e(i,function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||void 0,i=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new t(o,void 0,i,r[1],r[2],e)},this)},parseFFOrSafari:function(r){var o=n(r.stack.split("\n"),function(t){return!t.match(i)},this);return e(o,function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t(e);var n=e.split("@"),r=this.extractLocation(n.pop()),o=n.join("@")||void 0;return new t(o,void 0,r[0],r[1],r[2],e)},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),o=[],i=2,a=r.length;a>i;i+=2){var s=n.exec(r[i]);s&&o.push(new t(void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),o=[],i=0,a=r.length;a>i;i+=2){var s=n.exec(r[i]);s&&o.push(new t(s[3]||void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera11:function(o){var i=n(o.stack.split("\n"),function(t){return!!t.match(r)&&!t.match(/^Error created at/)},this);return e(i,function(e){var n,r=e.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t(a,s,o[0],o[1],o[2],e)},this)}}})}).call(this,void 0)},{stackframe:7}],2:[function(t,e,n){(function(n,r,o){(function(){"use strict";function i(t){return"function"==typeof t||"object"==typeof t&&null!==t}function a(t){return"function"==typeof t}function s(t){return"object"==typeof t&&null!==t}function c(t){H=t}function u(t){J=t}function f(){return function(){n.nextTick(g)}}function p(){return function(){Z(g)}}function l(){var t=0,e=new Q(g),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function d(){var t=new MessageChannel;return t.port1.onmessage=g,function(){t.port2.postMessage(0)}}function h(){return function(){setTimeout(g,1)}}function g(){for(var t=0;X>t;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}X=0}function m(){try{var e=t,n=e("vertx");return Z=n.runOnLoop||n.runOnContext,p()}catch(r){return h()}}function v(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(e){return at.error=e,at}}function _(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function T(t,e,n){J(function(t){var r=!1,o=_(n,e,function(n){r||(r=!0,e!==n?x(t,n):E(t,n))},function(e){r||(r=!0,F(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,F(t,o))},t)}function k(t,e){e._state===ot?E(t,e._result):e._state===it?F(t,e._result):j(e,void 0,function(e){x(t,e)},function(e){F(t,e)})}function S(t,e){if(e.constructor===t.constructor)k(t,e);else{var n=w(e);n===at?F(t,at.error):void 0===n?E(t,e):a(n)?T(t,e,n):E(t,e)}}function x(t,e){t===e?F(t,y()):i(e)?S(t,e):E(t,e)}function O(t){t._onerror&&t._onerror(t._result),P(t)}function E(t,e){t._state===rt&&(t._result=e,t._state=ot,0!==t._subscribers.length&&J(P,t))}function F(t,e){t._state===rt&&(t._state=it,t._result=e,J(O,t))}function j(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+ot]=n,o[i+it]=r,0===i&&t._state&&J(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?$(n,r,o,i):o(i);t._subscribers.length=0}}function A(){this.error=null}function N(t,e){try{return t(e)}catch(n){return st.error=n,st}}function $(t,e,n,r){var o,i,s,c,u=a(n);if(u){if(o=N(n,r),o===st?(c=!0,i=o.error,o=null):s=!0,e===o)return void F(e,b())}else o=r,s=!0;e._state!==rt||(u&&s?x(e,o):c?F(e,i):t===ot?E(e,o):t===it&&F(e,o))}function C(t,e){try{e(function(e){x(t,e)},function(e){F(t,e)})}catch(n){F(t,n)}}function L(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(v),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?E(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&E(n.promise,n._result))):F(n.promise,n._validationError())}function R(t){return new ct(this,t).promise}function M(t){function e(t){x(o,t)}function n(t){F(o,t)}var r=this,o=new r(v);if(!G(t))return F(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,a=0;o._state===rt&&i>a;a++)j(r.resolve(t[a]),void 0,e,n);return o}function z(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(v);return x(n,t),n}function I(t){var e=this,n=new e(v);return F(n,t),n}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function W(t){this._id=dt++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==t&&(a(t)||U(),this instanceof W||q(),C(this,t))}function D(){var t;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=ht)}var B;B=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var Z,H,V,G=B,X=0,J=({}.toString,function(t,e){nt[X]=t,nt[X+1]=e,X+=2,2===X&&(H?H(g):V())}),K="undefined"!=typeof window?window:void 0,Y=K||{},Q=Y.MutationObserver||Y.WebKitMutationObserver,tt="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3);V=tt?f():Q?l():et?d():void 0===K&&"function"==typeof t?m():h();var rt=void 0,ot=1,it=2,at=new A,st=new A;L.prototype._validateInput=function(t){return G(t)},L.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},L.prototype._init=function(){this._result=new Array(this.length)};var ct=L;L.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===rt&&e>o;o++)t._eachEntry(r[o],o)},L.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;s(t)?t.constructor===r&&t._state!==rt?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},L.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===rt&&(r._remaining--,t===it?F(o,n):r._result[e]=n),0===r._remaining&&E(o,r._result)},L.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,function(t){n._settledAt(ot,e,t)},function(t){n._settledAt(it,e,t)})};var ut=R,ft=M,pt=z,lt=I,dt=0,ht=W;W.all=ut,W.race=ft,W.resolve=pt,W.reject=lt,W._setScheduler=c,W._setAsap=u,W._asap=J,W.prototype={constructor:W,then:function(t,e){var n=this,r=n._state;if(r===ot&&!t||r===it&&!e)return this;var o=new this.constructor(v),i=n._result;if(r){var a=arguments[r-1];J(function(){$(r,o,a,i)})}else j(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var gt=D,mt={Promise:ht,polyfill:gt};"function"==typeof o&&o.amd?o(function(){return mt}):"undefined"!=typeof e&&e.exports?e.exports=mt:"undefined"!=typeof this&&(this.ES6Promise=mt),gt()}).call(this)}).call(this,void 0,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},void 0)},{}],3:[function(t,e,n){(function(n){!function(r,o){"use strict";"object"==typeof e&&e.exports&&"function"==typeof t?e.exports=o():"function"==typeof n&&"object"==typeof n.amd?n(o):r.log=o()}(this,function(){"use strict";function t(t){return typeof console===s?!1:void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):a}function e(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(r){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function n(t,e,n){return function(){typeof console!==s&&(r.call(this,e,n),this[t].apply(this,arguments))}}function r(t,e){for(var n=0;n<c.length;n++){var r=c[n];this[r]=t>n?a:this.methodFactory(r,t,e)}}function o(e,r,o){return t(e)||n.apply(this,arguments)}function i(t,e,n){function i(t){var e=(c[t]||"silent").toUpperCase();try{return void(window.localStorage[p]=e)}catch(n){}try{window.document.cookie=encodeURIComponent(p)+"="+e+";"}catch(n){}}function a(){var t;try{t=window.localStorage[p]}catch(e){}if(typeof t===s)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(p)+"=");r&&(t=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===f.levels[t]&&(t=void 0),t}var u,f=this,p="loglevel";t&&(p+=":"+t),f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=n||o,f.getLevel=function(){return u},f.setLevel=function(e,n){if("string"==typeof e&&void 0!==f.levels[e.toUpperCase()]&&(e=f.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=f.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;return u=e,n!==!1&&i(e),r.call(f,e,t),typeof console===s&&e<f.levels.SILENT?"No console available for logging":void 0},f.setDefaultLevel=function(t){a()||f.setLevel(t,!1)},f.enableAll=function(t){f.setLevel(f.levels.TRACE,t)},f.disableAll=function(t){f.setLevel(f.levels.SILENT,t)};var l=a();null==l&&(l=null==e?"WARN":e),f.setLevel(l,!1)}var a=function(){},s="undefined",c=["trace","debug","info","warn","error"],u=new i,f={};u.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=f[t];return e||(e=f[t]=new i(t,u.getLevel(),u.methodFactory)),e};var p=typeof window!==s?window.log:void 0;return u.noConflict=function(){return typeof window!==s&&window.log===u&&(window.log=p),u},u})}).call(this,void 0)},{}],4:[function(t,e,n){e.exports=t("./lib/simple_lru.js")},{"./lib/simple_lru.js":5}],5:[function(t,e,n){"use strict";function r(t,e,n,r){this.before=t,this.next=e,this.key=n,this.value=r}function o(t){t||(t={}),this.maxSize=t.maxSize,this.reset()}r.prototype.setKey=function(t){this.key=t},r.prototype.setValue=function(t){this.value=t},o.prototype.reset=function(){this.size=0,this.cache={},this.tail=void 0,this.head=void 0},o.prototype.get=function(t,e){var n=this.cache[t];return e=void 0!=e&&null!=e?e:!0,n&&e?(this.hit(n),n.value):void 0},o.prototype.set=function(t,e,n){var o=this.cache[t];if(n=void 0!=n&&null!=n?n:!0,o)o.value=e,n&&this.hit(o);else{var i;if(this.size>=this.maxSize){var a=this.tail.key;this.detach(this.tail),i=this.cache[a],delete this.cache[a],i.next=void 0,i.before=void 0,i.setKey(t),i.setValue(e)}i=i?i:new r(void 0,void 0,t,e),this.cache[t]=i,this.attach(i)}},o.prototype.del=function(t){var e=this.cache[t];e&&(this.detach(e),delete this.cache[t])},o.prototype.hit=function(t){this.detach(t),this.attach(t)},o.prototype.attach=function(t){t&&(t.before=void 0,t.next=this.head,this.head=t,t.next?t.next.before=t:this.tail=t,this.size++)},o.prototype.detach=function(t){if(t){var e=t.before,n=t.next;e?e.next=n:this.head=n,n?n.before=e:this.tail=e,this.size--}},o.prototype.forEach=function(t){var e=this;Object.keys(this.cache).forEach(function(n){var r=e.cache[n];t(r.value,n)})},e.exports=o},{}],6:[function(t,e,n){(function(r){!function(o,i){"use strict";"function"==typeof r&&r.amd?r("stack-generator",["stackframe"],i):"object"==typeof n?e.exports=i(t("stackframe")):o.StackGenerator=i(o.StackFrame)}(this,function(t){return{backtrace:function(e){var n=[],r=10;"object"==typeof e&&"number"==typeof e.maxStackSize&&(r=e.maxStackSize);for(var o=arguments.callee;o&&n.length<r;){for(var i=new Array(o.arguments.length),a=0;a<i.length;++a)i[a]=o.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?n.push(new t(RegExp.$1||void 0,i)):n.push(new t(void 0,i));try{o=o.caller}catch(s){break}}return n}}})}).call(this,void 0)},{stackframe:7}],7:[function(t,e,n){(function(t){!function(r,o){"use strict";"function"==typeof t&&t.amd?t("stackframe",[],o):"object"==typeof n?e.exports=o():r.StackFrame=o()}(this,function(){"use strict";function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t,e,n,r,o,i){void 0!==t&&this.setFunctionName(t),void 0!==e&&this.setArgs(e),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(t){this.functionName=String(t)},getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getFileName:function(){return this.fileName},setFileName:function(t){this.fileName=String(t)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!t(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!t(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(t){this.source=String(t)},toString:function(){var e=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",o=t(this.getLineNumber())?":"+this.getLineNumber():"",i=t(this.getColumnNumber())?":"+this.getColumnNumber():"";return e+n+r+o+i}},e})}).call(this,void 0)},{}],8:[function(t,e,n){(function(e){var r=t("../core"),o=t("../patch/browser");e.Zone?console.warn("Zone already exported on window the object!"):(e.Zone=r.Zone,e.zone=new e.Zone,o.apply()),n.Zone=e.Zone}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core":9,"../patch/browser":11}],9:[function(t,e,n){(function(e){function r(t,e){a.hasOwnProperty(t)||(a[t]=!0,console.warn("DEPRECATION WARNING: '"+t+"' is no longer supported and will be removed in next major release. "+e))}var o=t("./keys"),i=t("./patch/promise"),a={},s=function(){function t(e,n){this.parent=null,this.onError=null;var r=arguments.length?Object.create(e):this;return r.parent=e||null,Object.keys(n||{}).forEach(function(t){var o=t.substr(1);"$"===t[0]?r[o]=n[t](e[o]||function(){}):"+"===t[0]?e[o]?r[o]=function(){var r=e[o].apply(this,arguments);return n[t].apply(this,arguments),r}:r[o]=n[t]:"-"===t[0]?e[o]?r[o]=function(){return n[t].apply(this,arguments),e[o].apply(this,arguments)}:r[o]=n[t]:r[t]="object"==typeof n[t]?JSON.parse(JSON.stringify(n[t])):n[t]}),r.$id=t.nextId++,r}return t.prototype.fork=function(e){return this.onZoneCreated(),new t(this,e)},t.prototype.bind=function(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);e||this.enqueueTask(t);var n=this.isRootZone()?this:this.fork();return function(){return n.run(t,this,arguments)}},t.prototype.bindOnce=function(t){r("bindOnce","There is no replacement.");var e=this;return this.bind(function(){var n=t.apply(this,arguments);return e.dequeueTask(t),n})},t.prototype.isRootZone=function(){return null===this.parent},t.prototype.run=function(t,n,r){r=r||[];var o=e.zone;e.zone=this;try{return this.beforeTask(),t.apply(n,r)}catch(i){if(!this.onError)throw i;this.onError(i)}finally{this.afterTask(),e.zone=o}},t.prototype.beforeTask=function(){},t.prototype.onZoneCreated=function(){},t.prototype.afterTask=function(){},t.prototype.enqueueTask=function(t){r("enqueueTask","Use addTask/addRepeatingTask/addMicroTask")},t.prototype.dequeueTask=function(t){r("dequeueTask","Use removeTask/removeRepeatingTask/removeMicroTask")},t.prototype.addTask=function(t){this.enqueueTask(t)},t.prototype.removeTask=function(t){this.dequeueTask(t)},t.prototype.addRepeatingTask=function(t){this.enqueueTask(t)},t.prototype.removeRepeatingTask=function(t){this.dequeueTask(t)},t.prototype.addMicrotask=function(t){this.enqueueTask(t)},t.prototype.removeMicrotask=function(t){this.dequeueTask(t)},t.prototype.addEventListener=function(){return this[o.common.addEventListener].apply(this,arguments)},t.prototype.removeEventListener=function(){return this[o.common.removeEventListener].apply(this,arguments)},t.nextId=1,t.bindPromiseFn=i.bindPromiseFn,t}();n.Zone=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":10,"./patch/promise":18}],10:[function(t,e,n){function r(t){return"_zone$"+t}n.create=r,n.common={addEventListener:r("addEventListener"),removeEventListener:r("removeEventListener")}},{}],11:[function(t,e,n){(function(e){function r(){o.patchSetClearFunction(e,e.Zone,[["setTimeout","clearTimeout",!1,!1],["setInterval","clearInterval",!0,!1],["setImmediate","clearImmediate",!1,!1],["requestAnimationFrame","cancelAnimationFrame",!1,!0],["mozRequestAnimationFrame","mozCancelAnimationFrame",!1,!0],["webkitRequestAnimationFrame","webkitCancelAnimationFrame",!1,!0]]),o.patchFunction(e,["alert","prompt"]),u.apply(),f.apply(),i.apply(),a.patchClass("MutationObserver"),a.patchClass("WebKitMutationObserver"),s.apply(),c.apply(),p.apply(),l.apply()}var o=t("./functions"),i=t("./promise"),a=t("./mutation-observer"),s=t("./define-property"),c=t("./register-element"),u=t("./event-target"),f=t("./property-descriptor"),p=t("./geolocation"),l=t("./file-reader");n.apply=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./define-property":12,"./event-target":13,"./file-reader":14,"./functions":15,"./geolocation":16,"./mutation-observer":17,"./promise":18,"./property-descriptor":19,"./register-element":20}],12:[function(t,e,n){function r(){Object.defineProperty=function(t,e,n){if(i(t,e))throw new TypeError("Cannot assign to read only property '"+e+"' of "+t);return"prototype"!==e&&(n=a(t,e,n)),c(t,e,n)},Object.defineProperties=function(t,e){return Object.keys(e).forEach(function(n){Object.defineProperty(t,n,e[n])}),t},Object.create=function(t,e){return"object"==typeof e&&Object.keys(e).forEach(function(n){e[n]=a(t,n,e[n])}),f(t,e)},Object.getOwnPropertyDescriptor=function(t,e){var n=u(t,e);return i(t,e)&&(n.configurable=!1),n}}function o(t,e,n){return n=a(t,e,n),c(t,e,n)}function i(t,e){return t&&t[p]&&t[p][e]}function a(t,e,n){return n.configurable=!0,n.configurable||(t[p]||c(t,p,{writable:!0,value:{}}),t[p][e]=!0),n}var s=t("../keys"),c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,f=Object.create,p=s.create("unconfigurables");n.apply=r,n._redefineProperty=o},{"../keys":10}],13:[function(t,e,n){(function(e){"use strict";function r(){if(e.EventTarget)o.patchEventTargetMethods(e.EventTarget.prototype);else{var t=["ApplicationCache","EventSource","FileReader","InputMethodContext","MediaController","MessagePort","Node","Performance","SVGElementInstance","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebKitNamedFlow","Worker","WorkerGlobalScope","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];t.forEach(function(t){var n=e[t]&&e[t].prototype;n&&n.addEventListener&&o.patchEventTargetMethods(n)}),"undefined"!=typeof window&&o.patchEventTargetMethods(window)}}var o=t("../utils");n.apply=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils":22}],14:[function(t,e,n){function r(){o.patchClass("FileReader")}var o=t("../utils");n.apply=r},{"../utils":22}],15:[function(t,e,n){(function(e){function r(t,n,r){function o(r,o,a,s){var c=t[r],u=t[o],f={};if(c){var p=i.createEvent("Zone#"+r+"(uint32 zone, uint32 id, uint32 delay)"),l=i.createEvent("Zone#"+o+"(uint32 zone, uint32 id)"),d=i.createScope("Zone#cb:"+r+"(uint32 zone, uint32 id, uint32 delay)");t[r]=function(){return e.zone[r].apply(e.zone,arguments)},t[o]=function(){return e.zone[o].apply(e.zone,arguments)},n.prototype[r]=function(e,n){var r=e;"function"!=typeof r&&c.apply(t,arguments);var o=this,u=null;return arguments[0]=function(){var t=o.isRootZone()||s?o:o.fork(),e=this,c=arguments;return i.leaveScope(d(t.$id,u,n),t.run(function(){return a||(delete f[u],t.removeTask(r)),r.apply(e,c)}))},a?o.addRepeatingTask(r):o.addTask(r),u=c.apply(t,arguments),f[u]=r,p(o.$id,u,n),u},n.prototype[r+"Unpatched"]=function(){return c.apply(t,arguments)},n.prototype[o]=function(e){if(l(this.$id,e),f.hasOwnProperty(e)){var n=f[e];delete f[e],a?this.removeRepeatingTask(n):this.removeTask(n)}return u.apply(t,arguments)},n.prototype[o+"Unpatched"]=function(){return u.apply(t,arguments)}}}r.forEach(function(t){o.apply(null,t)})}function o(t,n){n.forEach(function(n){var r=t[n];e.zone[n]=function(){return r.apply(t,arguments)},t[n]=function(){return e.zone[n].apply(this,arguments)}})}var i=t("../wtf");n.patchSetClearFunction=r,n.patchFunction=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../wtf":23}],16:[function(t,e,n){(function(e){function r(){e.navigator&&e.navigator.geolocation&&o.patchPrototype(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}var o=t("../utils");n.apply=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils":22}],17:[function(t,e,n){(function(e){function r(t){var n=e[t];if(n){e[t]=function(t){this[i]=new n(e.zone.bind(t,!0)),this[a]=e.zone};var r=new n(function(){});e[t].prototype.disconnect=function(){var t=this[i].disconnect.apply(this[i],arguments);return this[s]&&(this[a].dequeueTask(),this[s]=!1),t},e[t].prototype.observe=function(){return this[s]||(this[a].enqueueTask(),this[s]=!0),this[i].observe.apply(this[i],arguments)};var o;for(o in r)!function(n){"undefined"==typeof e[t].prototype&&("function"==typeof r[n]?e[t].prototype[n]=function(){return this[i][n].apply(this[i],arguments)}:Object.defineProperty(e[t].prototype,n,{set:function(t){"function"==typeof t?this[i][n]=e.zone.bind(t):this[i][n]=t},get:function(){return this[i][n]}}))}(o)}}var o=t("../keys"),i=o.create("originalInstance"),a=o.create("creationZone"),s=o.create("isActive");n.patchClass=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../keys":10}],18:[function(t,e,n){(function(r){function o(t,e){var o=r,i=t.every(function(t){return o=o[t]});i&&e.forEach(function(t){var e=o[t];e&&(o[t]=n.bindPromiseFn(e))})}function i(t){var e=t.then;t.then=function(){var n=s.bindArguments(arguments),r=e.apply(t,n);return i(r)};var n=t["catch"];return t["catch"]=function(){var e=s.bindArguments(arguments),r=n.apply(t,e);return i(r)},t}function a(){if(r.Promise){s.patchPrototype(Promise.prototype,["then","catch"]);var t=[[[],["fetch"]],[["Response","prototype"],["arrayBuffer","blob","json","text"]]];t.forEach(function(t){o(t[0],t[1])})}}var s=t("../utils");r.Promise?n.bindPromiseFn=function(t){return function(){var e=t.apply(this,arguments);return e instanceof Promise?e:new Promise(function(t,n){e.then(t,n)})}}:n.bindPromiseFn=function(t){return function(){return i(t.apply(this,arguments))}},n.apply=a,e.exports={apply:a,bindPromiseFn:n.bindPromiseFn}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils":22}],19:[function(t,e,n){(function(e){function r(){if(!s.isNode()){var t="undefined"!=typeof WebSocket;if(o()){if(!s.isWebWorker()){var e=u.map(function(t){return"on"+t});s.patchProperties(HTMLElement.prototype,e)}s.patchProperties(XMLHttpRequest.prototype),t&&s.patchProperties(WebSocket.prototype)}else s.isWebWorker()||i(),s.patchClass("XMLHttpRequest"),t&&a.apply()}}function o(){if(!s.isWebWorker()&&!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var t=Object.getOwnPropertyDescriptor(Element.prototype,"onclick");if(t&&!t.configurable)return!1}Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",{get:function(){return!0}});var e=new XMLHttpRequest,n=!!e.onreadystatechange;return Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",{}),n}function i(){u.forEach(function(t){var n="on"+t;document.addEventListener(t,function(t){for(var r,o=t.target;o;)o[n]&&!o[n][f]&&(r=e.zone.bind(o[n]),r[f]=o[n],o[n]=r),o=o.parentElement},!0)})}var a=t("./websocket"),s=t("../utils"),c=t("../keys"),u="copy cut paste abort blur focus canplay canplaythrough change click contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop durationchange emptied ended input invalid keydown keypress keyup load loadeddata loadedmetadata loadstart message mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup pause play playing progress ratechange reset scroll seeked seeking select show stalled submit suspend timeupdate volumechange waiting mozfullscreenchange mozfullscreenerror mozpointerlockchange mozpointerlockerror error webglcontextrestored webglcontextlost webglcontextcreationerror".split(" ");n.apply=r;var f=c.create("unbound")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../keys":10,"../utils":22,"./websocket":21}],20:[function(t,e,n){(function(e){function r(){if(!i.isWebWorker()&&!i.isNode()&&"registerElement"in e.document){var t=document.registerElement,n=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(r,i){return i&&i.prototype&&n.forEach(function(t){if(i.prototype.hasOwnProperty(t)){var n=Object.getOwnPropertyDescriptor(i.prototype,t);n&&n.value?(n.value=e.zone.bind(n.value),o._redefineProperty(i.prototype,t,n)):i.prototype[t]=e.zone.bind(i.prototype[t])}else i.prototype[t]&&(i.prototype[t]=e.zone.bind(i.prototype[t]))}),t.apply(document,[r,i])}}}var o=t("./define-property"),i=t("../utils");n.apply=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils":22,"./define-property":12}],21:[function(t,e,n){(function(e){function r(){var t=e.WebSocket;e.EventTarget||o.patchEventTargetMethods(t.prototype),e.WebSocket=function(e,n){var r,i=arguments.length>1?new t(e,n):new t(e),a=Object.getOwnPropertyDescriptor(i,"onmessage");return a&&a.configurable===!1?(r=Object.create(i),["addEventListener","removeEventListener","send","close"].forEach(function(t){r[t]=function(){return i[t].apply(i,arguments)}})):r=i,o.patchProperties(r,["onclose","onerror","onmessage","onopen"]),r}}var o=t("../utils");n.apply=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils":22}],22:[function(t,e,n){(function(e,r){function o(t){for(var e=t.length-1;e>=0;e--)"function"==typeof t[e]&&(t[e]=r.zone.bind(t[e]));return t}function i(t,e){e.forEach(function(e){var n=t[e];n&&(t[e]=function(){return n.apply(this,o(arguments))})})}function a(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}function s(){return"undefined"!=typeof e&&"[object process]"==={}.toString.call(e)}function c(t,e){var n=Object.getOwnPropertyDescriptor(t,e)||{enumerable:!0,configurable:!0};delete n.writable,delete n.value;var r=e.substr(2),o="_"+e;n.set=function(t){this[o]&&this.removeEventListener(r,this[o]),"function"==typeof t?(this[o]=t,this.addEventListener(r,t,!1)):this[o]=null},n.get=function(){return this[o]},Object.defineProperty(t,e,n)}function u(t,e){(e||function(){var e=[];for(var n in t)e.push(n);return e}().filter(function(t){return"on"===t.substr(0,2)})).forEach(function(e){c(t,e)})}function f(t){t[l.common.addEventListener]=t.addEventListener,t.addEventListener=function(t,e,n){if(e&&"[object FunctionWrapper]"!==e.toString()){var o,i=t+(n?"$capturing":"$bubbling");o=e.handleEvent?function(t){return function(){t.handleEvent.apply(t,arguments)}}(e):e,e[d]=o,e[h]=e[h]||{},e[h][i]=e[h][i]||r.zone.bind(o),arguments[1]=e[h][i]}var a=this||r;return r.zone.addEventListener.apply(a,arguments)},t[l.common.removeEventListener]=t.removeEventListener,t.removeEventListener=function(t,e,n){var o=t+(n?"$capturing":"$bubbling");if(e&&e[h]&&e[h][o]){var i=e[h];arguments[1]=i[o],delete i[o],r.zone.dequeueTask(e[d])}var a=this||r,s=r.zone.removeEventListener.apply(a,arguments);return s}}function p(t){var e=r[t];if(e){r[t]=function(){var t=o(arguments);switch(t.length){case 0:this[g]=new e;break;case 1:this[g]=new e(t[0]);break;case 2:this[g]=new e(t[0],t[1]);break;case 3:this[g]=new e(t[0],t[1],t[2]);break;case 4:this[g]=new e(t[0],t[1],t[2],t[3]);break;default:throw new Error("what are you even doing?")}};var n,i=new e;for(n in i)!function(e){"function"==typeof i[e]?r[t].prototype[e]=function(){return this[g][e].apply(this[g],arguments)}:Object.defineProperty(r[t].prototype,e,{set:function(t){"function"==typeof t?this[g][e]=r.zone.bind(t):this[g][e]=t},get:function(){return this[g][e]}})}(n);for(n in e)"prototype"!==n&&e.hasOwnProperty(n)&&(r[t][n]=e[n])}}var l=t("./keys");n.bindArguments=o,n.patchPrototype=i,n.isWebWorker=a,n.isNode=s,n.patchProperty=c,n.patchProperties=u;var d=l.create("originalFn"),h=l.create("boundFns");n.patchEventTargetMethods=f;var g=l.create("originalInstance");n.patchClass=p}).call(this,void 0,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":10}],23:[function(t,e,n){(function(t){function e(){}var r=null,o=null,i=function(){var e=t.wtf;return e&&(r=e.trace)?(o=r.events,!0):!1}();n.enabled=i,n.createScope=i?function(t,e){return o.createScope(t,e)}:function(t,n){return e},n.createEvent=i?function(t,e){return o.createInstance(t,e)}:function(t,n){return e;
},n.leaveScope=i?function(t,e){return r.leaveScope(t,e),e}:function(t,e){return e},n.beginTimeRange=i?function(t,e){return r.beginTimeRange(t,e)}:function(t,e){return null},n.endTimeRange=i?function(t){r.endTimeRange(t)}:function(t){}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(t,e,n){(function(e){t("./browser/zone"),n.Zone=e.Zone}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser/zone":8}],25:[function(t,e,n){var r=t("../patching/patchUtils"),o=t("../lib/utils");e.exports=function(t,e){t.decorator("$compile",["$delegate","$injector",function(t,n){function i(){var n=e.startTrace(c,s,{enableStackFrames:!1});try{var r=t.apply(this,arguments)}finally{o.isUndefined(n)||n.end()}return r}var a=["$compile","compile"],s="template.$compile",c=a.join(".");return r._copyProperties(t,i),i}])}},{"../lib/utils":47,"../patching/patchUtils":48}],26:[function(t,e,n){function r(t){var e,n;return"string"==typeof t[0]?n=t[0]:"function"==typeof t[0]&&(n=t[0].name,"opbeatFunctionWrapper"===n&&t[0].original&&(n=t[0].original.name)),"object"==typeof t[1]&&(e=t[1].$scope),{scope:e,name:n}}var o=t("../lib/utils");e.exports=function(t,e){t.decorator("$controller",["$delegate","$injector",function(t,n){return function(){var n=Array.prototype.slice.call(arguments),i=r(n);if(i.name){var a,s="$controller."+i.name,c="app.$controller",u=e.startTrace(s,c,{enableStackFrames:!1});try{a=t.apply(this,arguments)}finally{o.isUndefined(u)||u.end()}}else a=t.apply(this,arguments);return a}}])}},{"../lib/utils":47}],27:[function(t,e,n){function r(t){return null==t?null:(t.exp?t=t.exp:t.name&&(t=t.name),t.toString())}var o=t("../lib/utils");e.exports=function(t,e){"use strict";t.decorator("ngRepeatDirective",["$delegate","$injector",function(t,n){var i=t[0],a=i.compile;return i.compile=function(){var t=a.apply(this,arguments);return function(){var n=arguments[0],i=n.$watchCollection;n.$watchCollection=function(t,n){var a=r(t);"function"==typeof n&&(arguments[1]=function(t){var r="";if(null!=a){var i=Array.isArray(t)?"["+t.length+"]":"";r=a+i}var s="ngRepeat "+r,c="template.ngRepeat",u=e.startTrace(s,c,{enableStackFrames:!1}),f=n.apply(this,arguments);return o.isUndefined(u)||u.end(),f}),i.apply(this,arguments)};var a=t.apply(this,arguments);return n.$watchCollection=i,a}},t}])}},{"../lib/utils":47}],28:[function(t,e,n){var r=t("../instrumentation/utils");e.exports=function(t,e){var n=0;t.decorator("$http",["$delegate","$injector",function(t,o){return r.instrumentModule(t,o,{type:"ext.$http",prefix:"$http",traceBuffer:e,instrumentConstructor:!0,before:function(t){t.taskId="http"+n,e.addTask(t.taskId),n++},after:function(t){e.removeTask(t.taskId)},signatureFormatter:function(t,e){var n=["$http"];return e.length&&(null!==e[0]&&"object"==typeof e[0]?(e[0].method||(e[0].method="get"),n=["$http",e[0].method.toUpperCase(),e[0].url]):"string"==typeof e[0]&&(n=["$http",e[0]])),n.join(" ")}})}])}},{"../instrumentation/utils":42}],29:[function(t,e,n){function r(t,e){this.config=function(n){n&&e.setConfig(n),n.debug===!0&&t.setLevel("debug",!1)},this.version="v3.0.1";var n=new s;this.$get=[function(){return{getConfig:function(){return e},captureException:function(e,r){return e instanceof Error?void n.processError(e,r):void t.error("Can't capture exception. Passed exception needs to be an instanceof Error")},setUserContext:function(t){e.set("context.user",t)},setExtraContext:function(t){e.set("context.extra",t)}}}]}function o(t){t.decorator("$exceptionHandler",["$delegate","$opbeat",function(t,e){return function(n,r){return e.captureException(n),t(n,r)}}])}function i(e,n){o(e),c(e,n),u(e,n),f(e,n),p(e,n);var r=t("./directivesPatch");r(e,n)}function a(t,e,n,o){function a(r){function o(r,o){if(!n.get("performance.enable"))return void e.debug("Performance monitoring is disable");e.debug("Route change started");var i;i=o.$$route?o.$$route.originalPath:o.name,(""===i||"undefined"==typeof i)&&(i="/"),t.startTransaction(i,"transaction")}n.isPlatformSupport()&&(n.set("isInstalled",!0),r.$on("$routeChangeStart",o),r.$on("$stateChangeStart",o))}function s(e){n.isPlatformSupport()&&i(e,t)}window.angular.module("ngOpbeat",[]).provider("$opbeat",new r(e,n)).config(["$provide",s]).run(["$rootScope",a]),window.angular.module("opbeat-angular",["ngOpbeat"])}var s=t("../exceptions/exceptions"),c=t("./httpPatch"),u=t("./controllerPatch"),f=t("./compilePatch"),p=t("./rootScopePatch");e.exports=a},{"../exceptions/exceptions":37,"./compilePatch":25,"./controllerPatch":26,"./directivesPatch":27,"./httpPatch":28,"./rootScopePatch":31}],30:[function(t,e,n){function r(){var t=(new o).services;return t}var o=t("./serviceContainer");r()},{"./serviceContainer":32}],31:[function(t,e,n){function r(t,e){var n="getPrototypeOf"in Object?Object.getPrototypeOf(t):t.__proto__,r=n.$digest;return n.$digest=function(){var t=e.startTrace("$scope.$digest","app.$digest",{enableStackFrames:!1}),n=r.apply(this,arguments);return t&&t.end(),n},t}e.exports=function(t,e){t.decorator("$rootScope",["$delegate","$injector",function(t,n){return r(t,e)}])}},{}],32:[function(t,e,n){function r(){this.services={},s.init();var t=s;this.services.configService=t;var e=this.services.logger=this.createLogger(),n=this.services.zoneService=this.createZoneService(),r=this.services.transactionService=new a(n,this.services.logger,t);if(!t.isPlatformSupport())return i(r,this.services.logger,t,n),void this.services.logger.debug("Platform is not supported.");if(this.createOpbeatBackend(),"undefined"==typeof window.angular)throw new Error("AngularJS is not available. Please make sure you load opbeat-angular after AngularJS.");if(f.isUndefined(window.opbeatApi)&&(window.opbeatApi={}),window.opbeatApi.subscribeToTransactions=r.subscribe.bind(r),!f.isUndefined(window.opbeatApi.onload)){var o=window.opbeatApi.onload;o.forEach(function(t){try{t()}catch(n){e.error(n)}})}var c=window.angular.resumeDeferredBootstrap;window.name="NG_DEFER_BOOTSTRAP!"+window.name,window.angular.resumeDeferredBootstrap=n.zone.bind(function(){var t=window.angular.resumeBootstrap;"function"==typeof c&&(t=c),t()}),i(r,e,t,n)}var o=t("loglevel"),i=t("./ngOpbeat"),a=t("../transaction/transaction_service"),s=t("../lib/config"),c=t("../backend/opbeat_backend"),u=t("../lib/transport"),f=t("../lib/utils");r.prototype.createLogger=function(){return this.services.configService.get("debug")===!0&&(this.services.configService.config.logLevel="debug"),o.setLevel(this.services.configService.get("logLevel"),!1),o},r.prototype.createZoneService=function(){function e(){}var n=this.services.logger,r=console.warn;console.warn=e,"undefined"==typeof window.zone&&t("zone.js");var o="getPrototypeOf"in Object?Object.getPrototypeOf(window.zone):window.zone.__proto__;o.enqueueTask=e,o.dequeueTask=e,console.warn=r;var i=t("../transaction/zone_service");return new i(window.zone,n)},r.prototype.createOpbeatBackend=function(){var t=this.services.logger,e=new c(u,this.services.logger,this.services.configService),n=this;setInterval(function(){var r=n.services.transactionService.getTransactions();0!==r.length&&(t.debug("Sending Transactions to opbeat.",r.length),e.sendTransactions(r),n.services.transactionService.clearTransactions())},5e3)},e.exports=r},{"../backend/opbeat_backend":34,"../lib/config":43,"../lib/transport":46,"../lib/utils":47,"../transaction/transaction_service":51,"../transaction/zone_service":52,"./ngOpbeat":29,loglevel:3,"zone.js":24}],33:[function(t,e,n){e.exports={createValidFrames:function(t){var e=[];return Array.isArray(t)&&(e=t.filter(function(t){return"undefined"!=typeof t.filename&&"undefined"!=typeof t.lineno})),e}}},{}],34:[function(t,e,n){function r(t,e,n){this._logger=e,this._transport=t,this._config=n}function o(t){var e=i(t,c);return Object.keys(e).map(function(t){var n=e[t][0],r=n._start;n.transaction?r-=n.transaction._start:r=0;var o={},i=u.createValidFrames(n.frames);return i.length>0&&(o._frames=i),{transaction:n.transaction.name,signature:n.signature,kind:n.type,timestamp:n._startStamp.toISOString(),parents:n.ancestors(),extra:o,_group:t}}).sort(function(t,e){return t.start_time-e.start_time})}function i(t,e){var n={};return t.forEach(function(t){var r=e(t);r in n?n[r].push(t):n[r]=[t],t._traceGroup=r}),n}function a(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())}function s(t){return[a(t._startStamp).getTime(),t.name,t.result,t.type].join("-")}function c(t){var e=t.ancestors().map(function(t){return t.signature}).join(",");return[a(t._startStamp).getTime(),t.transaction.name,e,t.signature,t.type].join("-")}var u=t("./backend_utils");e.exports=r,r.prototype.sendError=function(t){t.stacktrace.frames=u.createValidFrames(t.stacktrace.frames),this._transport.sendError(t)},r.prototype.sendTransactions=function(t){if(this._config.isValid()){var e=this._formatTransactions(t);return this._transport.sendTransaction(e)}this._logger.debug("Config is not valid")},r.prototype._formatTransactions=function(t){var e=this.groupTransactions(t),n=[].concat.apply([],t.map(function(t){return t.traces})),r=o(n),i=this.getRawGroupedTracesTimings(n,r);return{transactions:e,traces:{groups:r,raw:i}}},r.prototype.groupTransactions=function(t){var e=i(t,s);return Object.keys(e).map(function(t){var n=e[t][0],r=e[t].map(function(t){return t.duration()});return{transaction:n.name,result:n.result,kind:n.type,timestamp:a(n._startStamp).toISOString(),durations:r}})},r.prototype.getRawGroupedTracesTimings=function(t,e){var n=function(t,e){var n=0,r=c(e);return t.forEach(function(t,e){t._group===r&&(n=e)}),n},r=this,o=i(t,function(t){return t.transaction.name+"|"+t.transaction._start});return Object.keys(o).map(function(t){var i=o[t],a=i[0].transaction,s=[a.duration()];return i.forEach(function(t){var o=n(e,t),i=t._start-a._start;i>a.duration()?r._logger.debug("%c -- opbeat.instrumentation.getRawGroupedTracesTimings.error.relativeTraceStartLargerThanTransactionDuration","color: #ff0000",i,a._start,a.duration(),{trace:t,transaction:a}):0>i?r._logger.debug("%c -- opbeat.instrumentation.getRawGroupedTracesTimings.error.negativeRelativeTraceStart!","color: #ff0000",i,t._start,a._start,t):t.duration()>a.duration()?r._logger.debug("%c -- opbeat.instrumentation.getRawGroupedTracesTimings.error.traceDurationLargerThanTranscationDuration","color: #ff0000",t.duration(),a.duration(),{trace:t,transaction:a}):s.push([o,i,t.duration()])}),s})}},{"./backend_utils":33}],35:[function(t,e,n){function r(){this.subscriptions=[]}r.prototype.subscribe=function(t){var e=this;return this.subscriptions.push(t),function(){var n=e.subscriptions.indexOf(t);n>-1&&e.subscriptions.splice(n,1)}},r.prototype.applyAll=function(t,e){this.subscriptions.forEach(function(n){try{n.apply(t,e)}catch(r){console.log(r,r.stack)}},this)},e.exports=r},{}],36:[function(t,e,n){var r=t("es6-promise").Promise,o=t("../lib/utils"),i=t("../lib/fileFetcher");e.exports={_findSourceMappingURL:function(t){var e=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)[\s]*$/.exec(t);return e&&e[1]?e[1]:null},getFileSourceMapUrl:function(t){var e,n=this;return t?(e=t.split("/").length>1?t.split("/").slice(0,-1).join("/")+"/":"/",new r(function(r,o){i.getFile(t).then(function(t){var i=n._findSourceMappingURL(t);i?(i=e+i,r(i)):o("no sourceMapUrl")},o)})):r.reject("no fileUrl")},getExceptionContexts:function(t,e){return t&&e?new r(function(n,r){i.getFile(t).then(function(t){e-=1;var i=t.split("\n"),a=5,s=5,c={preContext:[],contextLine:null,postContext:[]};if(i.length){var u;if(u=t.indexOf("<html")>-1?!1:this.isSourceMinified(t))return r();for(var f=Math.max(0,e-a-1),p=Math.min(i.length,e-1),l=f;p>=l;++l)o.isUndefined(i[l])||c.preContext.push(i[l]);c.contextLine=i[e];for(var d=Math.min(i.length,e+1),h=Math.min(i.length,e+s),g=d;h>=g;++g)o.isUndefined(i[g])||c.postContext.push(i[g])}var m=1e3;c.contextLine.length>m&&r("aborting generating contexts, as line is over 1000 chars"),c.preContext.forEach(function(t){t.length>m&&r("aborting generating contexts, as preContext line is over 1000 chars")}),c.postContext.forEach(function(t){t.length>m&&r("aborting generating contexts, as postContext line is over 1000 chars")}),n(c)}.bind(this),r)}.bind(this)):r.reject("no line or url")},isSourceMinified:function(t){var e,n=50,r=5,o=250,i=0,a=0,s=0,c=0,u=!1;if(!t)return!1;for(t=t.replace(/\/\*[\S\s]*?\*\/|\/\/(.+|\n)/g,"");s++<n&&(i=t.indexOf("\n",a),-1!==i);){if(/^\s+/.test(t.slice(a,i))&&c++,i-a>o){u=!0;break}a=i+1}return e=r>c/s*100||u}}},{"../lib/fileFetcher":44,"../lib/utils":47,"es6-promise":2}],37:[function(t,e,n){function r(t,e,n,r,s){if("Script error."!==e||n){var c={message:t?t.message:e,type:t?t.name:null,fileurl:n||null,lineno:r||null,colno:s||null};c.type||c.message.indexOf(":")>-1&&(c.type=c.message.split(":")[0]);var u;u=t?i.fromError(t):new o(function(t,e){t([{fileName:n,lineNumber:r,columnNumber:s}])}),u.then(function(t){return c.stack=t||[],a.stackInfoToOpbeatException(c).then(function(t){a.processOpbeatException(t)})})["catch"](function(){})}}var o=t("es6-promise").Promise,i=t("./stacktrace"),a=t("./frames"),s=function(){};s.prototype.install=function(){window.onerror=function(t,e,n,o,i){r.call(this,i,t,e,n,o)}.bind(this)},s.prototype.uninstall=function(){window.onerror=null},s.prototype.processError=function(t){r(t)},e.exports=s},{"./frames":38,"./stacktrace":39,"es6-promise":2}],38:[function(t,e,n){var r=t("es6-promise").Promise,o=t("../lib/logger"),i=t("../lib/config"),a=t("../lib/transport"),s=t("../backend/backend_utils"),c=t("../lib/utils"),u=t("./context"),f=t("./stacktrace"),p=function(t){for(var e=r.resolve(),n=[],o=0;o<t.length;++o)n.push(e=e.then(t[o]));return r.all(n)};e.exports={getFramesForCurrent:function(){return f.get().then(function(t){var e=t.map(function(t){return this.buildOpbeatFrame.bind(this,t)}.bind(this)),n=p(e);return n.then(function(t){return t})}.bind(this))},buildOpbeatFrame:function(t){return new r(function(e,n){if(!t.fileName&&!t.lineNumber)return e({});if(!t.columnNumber&&!t.lineNumber)return e({});var r=this.cleanFilePath(t.fileName),o=this.filePathToFileName(r);this.isFileInline(r)&&(o="(inline script)");var i={filename:o,lineno:t.lineNumber,colno:t.columnNumber,"function":t.functionName||"<anonymous>",abs_path:t.fileName,in_app:this.isFileInApp(r)},a=u.getFileSourceMapUrl(r);a.then(function(t){i.sourcemap_url=t,e(i)},function(){var n=this.cleanFilePath(t.fileName),r=u.getExceptionContexts(n,t.lineNumber);r.then(function(t){i.pre_context=t.preContext,i.context_line=t.contextLine,i.post_context=t.postContext,e(i)})["catch"](function(){e(i)})}.bind(this))}.bind(this))},stackInfoToOpbeatException:function(t){return new r(function(e,n){if(t.stack&&t.stack.length){var r=t.stack.map(function(t){return this.buildOpbeatFrame.bind(this,t)}.bind(this)),o=p(r);o.then(function(n){t.frames=n,t.stack=null,e(t)})}else e(t)}.bind(this))},processOpbeatException:function(t){var e,n=t.type,r=String(t.message)||"Script error",u=this.cleanFilePath(t.fileurl),f=this.filePathToFileName(u),p=t.frames||[];p&&p.length?p.reverse():f&&p.push({filename:f,lineno:t.lineno});var l={frames:p};if(!f&&p.length){var d=p[p.length-1];f=d.filename?d.filename:"(inline script)"}e=this.isFileInline(u)?"(inline script)":f;var h={message:n+": "+r,culprit:e,exception:{type:n,value:r},http:{url:window.location.href},stacktrace:l,user:i.get("context.user"),level:null,logger:null,machine:null};h.extra=this.getBrowserSpecificMetadata(),i.get("context.extra")&&(h.extra=c.mergeObject(h.extra,i.get("context.extra"))),h.stacktrace.frames=s.createValidFrames(h.stacktrace.frames),o.log("opbeat.exceptions.processOpbeatException",h),a.sendError(h)},cleanFilePath:function(t){return t||(t=""),"<anonymous>"===t&&(t=""),t},filePathToFileName:function(t){var e=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");return t.indexOf(e)>-1&&(t=t.replace(e+"/","")),t},isFileInline:function(t){return t?0===window.location.href.indexOf(t):!1},isFileInApp:function(t){var e=i.get("libraryPathPattern");return!RegExp(e).test(t)},getBrowserSpecificMetadata:function(){var t=c.getViewPortInfo(),e={environment:{utcOffset:(new Date).getTimezoneOffset()/-60,browserWidth:t.width,browserHeight:t.height,screenWidth:window.screen.width,screenHeight:window.screen.height,language:navigator.language,userAgent:navigator.userAgent,platform:navigator.platform},page:{referer:document.referrer,host:document.domain,location:window.location.href}};return e}}},{"../backend/backend_utils":33,"../lib/config":43,"../lib/logger":45,"../lib/transport":46,"../lib/utils":47,"./context":36,"./stacktrace":39,"es6-promise":2}],39:[function(t,e,n){function r(t){return t.stack||t["opera#sourceloc"]}function o(t){return t.map(function(t){return t.functionName&&(t.functionName=i(t.functionName)),t})}function i(t){var e=t.split("/");return t=e.length>1?["Object",e[e.length-1]].join("."):e[0],t=t.replace(/.<$/gi,".<anonymous>"),t=t.replace(/^Anonymous function$/,"<anonymous>"),e=t.split("."),t=e.length>1?e[e.length-1]:e[0]}var a=t("error-stack-parser"),s=t("stack-generator"),c=t("es6-promise").Promise,u=t("../lib/utils"),f={filter:function(t){return-1===(t.functionName||"").indexOf("StackTrace$$")&&-1===(t.functionName||"").indexOf("ErrorStackParser$$")&&-1===(t.functionName||"").indexOf("StackGenerator$$")&&-1===(t.functionName||"").indexOf("opbeatFunctionWrapper")&&-1===(t.fileName||"").indexOf("opbeat-angular.js")&&-1===(t.fileName||"").indexOf("opbeat-angular.min.js")&&-1===(t.fileName||"").indexOf("opbeat.js")&&-1===(t.fileName||"").indexOf("opbeat.min.js")}};e.exports={get:function(t){try{throw new Error}catch(e){return r(e)?this.fromError(e,t):this.generateArtificially(t)}},generateArtificially:function(t){t=u.mergeObject(f,t);var e=s.backtrace(t);return"function"==typeof t.filter&&(e=e.filter(t.filter)),e=o(e),c.resolve(e)},fromError:function(t,e){return e=u.mergeObject(f,e),new c(function(n){var r=a.parse(t);"function"==typeof e.filter&&(r=r.filter(e.filter)),r=o(r),n(c.all(r.map(function(t){return new c(function(e){e(t)})})))})}}},{"../lib/utils":47,"error-stack-parser":1,"es6-promise":2,"stack-generator":6}],40:[function(t,e,n){var r=t("simple-lru-cache");e.exports=new r({maxSize:5e3})},{"simple-lru-cache":4}],41:[function(t,e,n){var r=t("../lib/logger"),o=function(){};o.prototype.init=function(t){this.$rootScope=t.get("$rootScope"),this.$rootScope._opbeatTransactionStore={}},o.prototype.pushToUrl=function(t,e){var n=this.$rootScope._opbeatTransactionStore[t]||[];n.push(e),r.log("opbeat.instrumentation.TransactionStore.pushToUrl",t,e),this.$rootScope._opbeatTransactionStore[t]=n},o.prototype.getAllByUrl=function(t){return r.log("opbeat.instrumentation.TransactionStore.pushToUrl",t,this.$rootScope),this.$rootScope?this.$rootScope._opbeatTransactionStore[t]||[]:[]},o.prototype.getRecentByUrl=function(t){var e;return this.$rootScope&&(e=this.$rootScope._opbeatTransactionStore[t]),r.log("opbeat.instrumentation.TransactionStore.getRecentByUrl",t,e),e&&e.length?e.slice(-1)[0]:null},o.prototype.clearByUrl=function(t){this.$rootScope._opbeatTransactionStore[t]=[]},e.exports=new o},{"../lib/logger":45}],42:[function(t,e,n){function r(t){for(var e=new Array(arguments.length),n=0,r=arguments.length;r>n;n++)e[n]=arguments[n];e=e.slice(1);var o=t.traceName,i=t.transactionStore,a=i.getRecentByUrl(window.location.href);if(a||!t.traceBuffer||t.traceBuffer.isLocked()||(a=t.traceBuffer),t.options.signatureFormatter&&(o=t.options.signatureFormatter.apply(this,[t.fnName,e,t.options])),a){var s=a.startTrace(o,t.traceType,t.options);t.trace=s}else u.log("%c instrumentMethodBefore.error.transaction.missing","background-color: #ffff00",t);return{args:e}}function o(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function i(t){t.trace&&t.trace.end()}function a(t){function e(){for(var t=new Array(arguments.length),e=0,a=arguments.length;a>e;e++)t[e]=arguments[e];var s=Object.create(i);if("function"==typeof r){var c=r.apply(this,[s].concat(t));c.args&&(t=c.args)}var u=n.apply(this,t);return"function"==typeof o&&(u&&"function"==typeof u.then?u["finally"](function(){o.apply(this,[s].concat(t))}.bind(this)):o.apply(this,[s].concat(t))),u}var n=t._opbeatOriginalFunction,r=t._opbeatBefore,o=t._opbeatAfter,i=t._opbeatContext;return"undefined"==typeof n.$inject?e.$inject=c(n):e.$inject=n.$inject,e}function s(t){var e=t.toString().replace(v,""),n=e.match(d)||e.match(h);return n}function c(t){var e,n;return"function"==typeof t&&((e=t.$inject)||(e=[],t.length&&(n=s(t),n[1].split(g).forEach(function(t){t.replace(m,function(t,n,r){e.push(r)})})))),e}var u=t("../lib/logger"),f=t("../lib/utils"),p=t("../lib/config"),l=t("./transactionStore");e.exports={wrapMethod:function(t,e,n,r){var o={_opbeatOriginalFunction:t,_opbeatBefore:e,_opbeatAfter:n,_opbeatContext:r};return a(o)},instrumentMethodWithCallback:function(t,e,n,o){o=o||{};var a=[];if(!p.get("isInstalled"))return u.log("opbeat.instrumentation.instrumentMethodWithCallback.not.installed"),t;if(!p.get("performance.enable"))return u.log("- %c opbeat.instrumentation.instrumentMethodWithCallback.disabled","color: #3360A3"),t;if(o.prefix){if("function"==typeof o.prefix){var s=o.wrapper?o.wrapper.args:[];o.prefix=o.prefix.call(this,s)}a.push(o.prefix)}e&&a.push(e);var c=a.join("."),f=t,d={traceName:c,traceType:n,traceBuffer:o.traceBuffer,transactionStore:l,fn:t,options:o},h=this.wrapMethod(f,function(t){var e=Array.prototype.slice.call(arguments).slice(1),n=e[o.callbackIndex];if("function"==typeof n){var a=this.wrapMethod(n,function(){return i.apply(this,[t]),{}},null);e[t.options.callbackIndex]=a}return r.apply(this,[t].concat(e))}.bind(this),null,d);return h.original=f,h},instrumentMethod:function(t,e,n){n=n||{};var a=[];if(n.prefix){if("function"==typeof n.prefix){var s=n.wrapper?n.wrapper.args:[];n.prefix=n.prefix.call(this,s)}a.push(n.prefix)}var c;"function"==typeof t&&t.name?c=t.name:n.fnName&&(c=n.fnName),c&&a.push(c);var f=a.join(".");if(!p.get("isInstalled"))return u.log("opbeat.instrumentation.instrumentMethod.not.installed"),t;if(!p.get("performance.enable"))return u.log("- %c opbeat.instrumentation.instrumentMethod.disabled","color: #3360A3"),t;var d;d="function"==typeof e?e.call(n):e;var h={traceName:f,traceType:d,traceBuffer:n.traceBuffer,options:n,fn:t,fnName:c,transactionStore:l},g=r,m=i;n.before&&(g=function(t){return n.before(t),r.apply(this,arguments)}),n.after&&(m=function(t){i.apply(this,arguments),n.after(t)});var v=this.wrapMethod(t,g,m,h);return v.original=t,o(v.original,v),v.prototype=t.prototype,v},instrumentModule:function(t,e,n){var r=this;if(!p.get("isInstalled"))return u.log("opbeat.instrumentation.instrumentModule.not.installed"),t;if(!p.get("performance.enable"))return u.log("- %c opbeat.instrumentation.instrumentModule.disabled","color: #3360A3"),t;var i=function(){var o=Array.prototype.slice.call(arguments),i=t;n.instrumentConstructor&&(i=r.instrumentMethod(t,n.type,n));var a=i.apply(this,o);return n.wrapper={args:o},f.isUndefined(a)||r.instrumentObject(a,e,n),a};return o(t,i),this.instrumentObject(i,e,n),i},instrumentObject:function(t,e,n){return n=n||{},p.get("isInstalled")?p.get("performance.enable")?n.instrumentObjectFunctions===!1?t:(this.getObjectFunctions(t).forEach(function(e){var r=f.mergeObject(n,{});r.fnName=e.property,t[e.property]=this.instrumentMethod(e.ref,n.type,r)}.bind(this)),t):(u.log("- %c opbeat.instrumentation.instrumentObject.disabled","color: #3360A3"),t):(u.log("opbeat.instrumentation.instrumentObject.not.installed"),t)},uninstrumentMethod:function(t,e){var n=t[e];n.original&&(t[e]=n.original)},getObjectFunctions:function(t){return Object.keys(t).filter(function(e){return"function"==typeof t[e]}).map(function(e){var n=t[e];return{scope:t,property:e,ref:n}})},getControllerInfoFromArgs:function(t){var e,n;return"string"==typeof t[0]?n=t[0]:"function"==typeof t[0]&&(n=t[0].name,"opbeatFunctionWrapper"===n&&t[0].original&&(n=t[0].original.name)),"object"==typeof t[1]&&(e=t[1].$scope),{scope:e,name:n}},resolveAngularDependenciesByType:function(t,e){var n=t.attr("ng-app")||p.get("angularAppName");return n?window.angular.module(n)._invokeQueue.filter(function(t){return t[1]===e}).map(function(t){return t[2][0]}):[]}};var d=/^([^\(]+?)=>/,h=/^[^\(]*\(\s*([^\)]*)\)/m,g=/,/,m=/^\s*(_?)(\S+?)\1\s*$/,v=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm},{"../lib/config":43,"../lib/logger":45,"../lib/utils":47,"./transactionStore":41}],43:[function(t,e,n){function r(){this.config={},this.defaults={VERSION:"v3.0.1",apiHost:"intake.opbeat.com",isInstalled:!1,logLevel:"warn",orgId:null,appId:null,angularAppName:null,performance:{enable:!0,enableStackFrames:!1},libraryPathPattern:"(node_modules|bower_components|webpack)",context:{user:{},extra:null}};var t=1===i.getRandomInt(0,10);t&&(this.defaults.performance.enableStackFrames=t)}function o(t){var e={},n=/^data\-([\w\-]+)$/;if(t)for(var r=t.attributes,o=0;o<r.length;o++){var a=r[o];if(n.test(a.nodeName)){var s=a.nodeName.match(n)[1];s=i.arrayMap(s.split("-"),function(t,e){return e>0?t.charAt(0).toUpperCase()+t.substring(1):t}).join(""),e[s]=a.value||a.nodeValue}}return e}var i=t("./utils");r.prototype.init=function(){var t=a();this.setConfig(t)},r.prototype.get=function(t){return i.arrayReduce(t.split("."),function(t,e){return t[e]},this.config)},r.prototype.set=function(t,e){var n=t.split("."),r=n.length-1,o=this.config;i.arraySome(n,function(t,n){if("undefined"==typeof t)return!0;if(n===r)o[t]=e;else{var i=o[t]||{};o[t]=i,o=i}})},r.prototype.setConfig=function(t){t=t||{};var e=i.mergeObject(this.defaults,this.config);this.config=i.mergeObject(e,t)},r.prototype.isValid=function(){var t=["appId","orgId"],e=i.arrayMap(t,i.functionBind(function(t){return null===this.config[t]||void 0===this.config[t]},this));return-1===i.arrayIndexOf(e,!0)};var a=function(){var t=i.getCurrentScript(),e=o(t);return e};r.prototype.VERSION="v3.0.1",r.prototype.isPlatformSupport=function(){return"function"==typeof Array.prototype.forEach&&"function"==typeof JSON.stringify&&"function"==typeof Function.bind&&window.performance&&"function"==typeof window.performance.now&&i.isCORSSupported()},e.exports=new r},{"./utils":47}],44:[function(t,e,n){var r=t("simple-lru-cache"),o=t("./transport"),i=new r({maxSize:1e3});e.exports={getFile:function(t){var e=i.get(t);if("undefined"!=typeof e)return e;var n=o.getFile(t);return i.set(t,n),n}}},{"./transport":46,"simple-lru-cache":4}],45:[function(t,e,n){var r=t("./config"),o=[];e.exports={getLogStack:function(){return o},error:function(t,e){return this.log("%c "+t,"color: red",e)},warning:function(t,e){return this.log("%c "+t,"background-color: ffff00",e)},log:function(t,e){for(var n=new Array(arguments.length),i=0,a=arguments.length;a>i;i++)n[i]=arguments[i];var s=r.get("debug")===!0||"true"===r.get("debug"),c=window.console;return o.push({msg:t,data:n.slice(1)}),s&&c?"function"==typeof Function.prototype.bind?window.console.log.apply(window.console,n):Function.prototype.apply.call(window.console.log,window.console,n):void 0}}},{"./config":43}],46:[function(t,e,n){function r(t,e){i.log("opbeat.transport.sendToOpbeat",e);var n="https://"+a.get("apiHost")+"/api/v1/organizations/"+a.get("orgId")+"/apps/"+a.get("appId")+"/client-side/"+t+"/",r={"X-Opbeat-Client":"opbeat-js/"+a.get("VERSION")};return o(n,"POST","JSON",e,r)}function o(t,e,n,r,o){return new s(function(a,s){var c=new window.XMLHttpRequest;if(c.open(e,t,!0),c.timeout=1e4,"JSON"===n&&c.setRequestHeader("Content-Type","application/json"),o)for(var u in o)o.hasOwnProperty(u)&&c.setRequestHeader(u.toLowerCase(),o[u]);c.onreadystatechange=function(e){if(4===c.readyState){var n=c.status;if(0===n||n>399&&600>n){var r=new Error(t+" HTTP status: "+n);r.xhr=c,s(r),i.log("opbeat.transport.makeRequest.error",r)}else a(c.responseText),i.log("opbeat.transport.makeRequest.success")}},c.onerror=function(t){s(t),i.log("opbeat.transport.makeRequest.error",t)},"JSON"===n&&(r=JSON.stringify(r)),c.send(r)})}var i=t("./logger"),a=t("./config"),s=t("es6-promise").Promise;e.exports={sendError:function(t){return r("errors",t)},sendTransaction:function(t){return r("transactions",t)},getFile:function(t){return o(t,"GET","",{})}}},{"./config":43,"./logger":45,"es6-promise":2}],47:[function(t,e,n){e.exports={getViewPortInfo:function(){var t=document.documentElement,e=document.getElementsByTagName("body")[0],n=window.innerWidth||t.clientWidth||e.clientWidth,r=window.innerHeight||t.clientHeight||e.clientHeight;return{width:n,height:r}},mergeObject:function(t,e){var n,r={};for(n in t)r[n]=t[n];for(n in e)r[n]=e[n];return r},arrayReduce:function(t,e,n){if(null==t)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=Object(t),o=r.length>>>0,i=0;if(!n){for(;o>i&&!(i in r);)i++;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;o>i;i++)i in r&&(n=e(n,r[i],i,r));return n},arraySome:function(t,e,n){if(null==t)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;var r=Object(t),o=r.length>>>0;n||(n=void 0);for(var i=0;o>i;i++)if(i in r&&e.call(n,r[i],i,r))return!0;return!1},arrayMap:function(t,e,n){var r,o,i;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(t),s=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(r=n),o=new Array(s),i=0;s>i;){var c,u;i in a&&(c=a[i],u=e.call(r,c,i,a),o[i]=u),i++}return o},arrayIndexOf:function(t,e,n){var r;if(null==t)throw new TypeError('"arrayVal" is null or not defined');var o=Object(t),i=o.length>>>0;if(0===i)return-1;var a=+n||0;if(Math.abs(a)===1/0&&(a=0),a>=i)return-1;for(r=Math.max(a>=0?a:i-Math.abs(a),0);i>r;){if(r in o&&o[r]===e)return r;r++}return-1},functionBind:function(t,e){var n=Array.prototype.slice.call(arguments,2),r=function(){},o=function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))};return r.prototype=t.prototype,o.prototype=new r,o},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},isUndefined:function(t){return"undefined"==typeof t},isCORSSupported:function(){var t=new window.XMLHttpRequest;return"withCredentials"in t},getCurrentScript:function(){return document.currentScript||function(){var t=document.getElementsByTagName("script");return t[t.length-1]}()},generateUuid:function(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return t()+t(!0)+t(!0)+t()}}},{}],48:[function(t,e,n){function r(t){return"__opbeat_symbol__"+t}function o(t,e,n){for(var o=t;o&&!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);!o&&t[e]&&(o=t);var a,s=r(e);return o&&!(a=o[s])&&(a=o[s]=o[e],o[e]=i(e,n(a,s,e))),a}function i(t,e){try{return Function("f","return function "+t+"(){return f(this, arguments)}")(e)}catch(n){return function(){return e(this,arguments)}}}e.exports={patchFunction:function(t,e){},_copyProperties:function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wrapAfter:function(t,e){return function(){var n=t.apply(this,arguments);return e.apply(this,arguments),n}},wrapBefore:function(t,e){return function(){return e.apply(this,arguments),t.apply(this,arguments)}},wrap:function(t,e,n){return function(){e.apply(this,arguments);var r=t.apply(this,arguments);return n.apply(this,arguments),r}},argumentsToArray:function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e},opbeatSymbol:r,patchMethod:o}},{}],49:[function(t,e,n){function r(t,e,n,r){this.transaction=t,this.signature=e,this.type=n,this.ended=!1,this._parent=null,this._diff=null,this._end=null,this._start=window.performance.now(),this._startStamp=new Date,this._isFinish=new o(function(t,e){this._markFinishedFunc=t;
}.bind(this)),(s.isUndefined(r)||null==r)&&(r={});var i=r.enableStackFrames;i?this.getTraceStackFrames(function(t){t&&(this.frames=t.reverse()),this._markFinishedFunc()}.bind(this)):this._markFinishedFunc()}var o=t("es6-promise").Promise,i=t("../exceptions/frames"),a=t("../instrumentation/traceCache"),s=t("../lib/utils");r.prototype.calcDiff=function(){this._end&&this._start&&(this._diff=this._end-this._start)},r.prototype.end=function(){this._end=window.performance.now(),this.calcDiff(),this.ended=!0,s.isUndefined(this.transaction)||"function"!=typeof this.transaction._onTraceEnd||this.transaction._onTraceEnd(this)},r.prototype.duration=function(){return this.ended?parseFloat(this._diff):null},r.prototype.startTime=function(){return this.ended&&this.transaction.ended?this._start:null},r.prototype.ancestors=function(){var t=this.parent();return t?[t.signature]:[]},r.prototype.parent=function(){return this._parent},r.prototype.setParent=function(t){this._parent=t},r.prototype.getFingerprint=function(){for(var t=[this.transaction.name,this.signature,this.type],e=this._parent;e;)t.push(e.signature),e=e._parent;return t.join("-")},r.prototype.getTraceStackFrames=function(t){var e=this.getFingerprint(),n=a.get(e);n?t(n):i.getFramesForCurrent().then(function(n){a.set(e,n),t(n)})["catch"](function(){t(null)})},e.exports=r},{"../exceptions/frames":38,"../instrumentation/traceCache":40,"../lib/utils":47,"es6-promise":2}],50:[function(t,e,n){function r(t){var e=null;return t.forEach(function(t){e||(e=t),e&&e._start>t._start&&(e=t)}),e}function o(t){var e=null;return t.forEach(function(t){e||(e=t),e&&e._end<t._end&&(e=t)}),e}var i=t("./trace"),a=t("es6-promise").Promise,s=t("../lib/utils"),c=function(t,e,n){this.metadata={},this.name=t,this.type=e,this.ended=!1,this._markDoneAfterLastTrace=!1,this._isDone=!1,this._options=n,"undefined"==typeof n&&(this._options={}),this.traces=[],this._activeTraces={},this._scheduledTasks={},this.events={},a.call(this.donePromise=Object.create(a.prototype),function(t,e){this._resolve=t,this._reject=e}.bind(this.donePromise)),this._rootTrace=this.startTrace("transaction","transaction",{enableStackFrames:!1}),this._startStamp=this._rootTrace._startStamp,this._start=this._rootTrace._start,this.duration=this._rootTrace.duration.bind(this._rootTrace),this.nextId=0};c.prototype.startTrace=function(t,e,n){var r="undefined"==typeof n?{}:n;r.enableStackFrames=this._options.enableStackFrames===!0&&r.enableStackFrames!==!1;var o=new i(this,t,e,r);return o.traceId=this.nextId,this.nextId++,this._rootTrace&&(o.setParent(this._rootTrace),this._activeTraces[o.traceId]=o),o},c.prototype.recordEvent=function(t){var e=this.events[t.name];s.isUndefined(e)?(e={name:t.name,start:t.start,end:t.end,time:t.end-t.start,count:0},this.events[e.name]=e):(e.time+=t.end-t.start,e.count++,e.end=t.end)},c.prototype.isFinished=function(){return 0===Object.keys(this._scheduledTasks).length&&0===Object.keys(this._activeTraces).length},c.prototype.detectFinish=function(){this.isFinished()&&this.end()},c.prototype.end=function(){return this.ended?void 0:(this.ended=!0,this._rootTrace.end(),this.isFinished()===!0&&this._finish(),this.donePromise)},c.prototype.addTask=function(t){this._scheduledTasks[t]=t},c.prototype.removeTask=function(t){delete this._scheduledTasks[t]},c.prototype.addEndedTraces=function(t){this.traces=this.traces.concat(t)},c.prototype._onTraceEnd=function(t){this.traces.push(t),t._scheduledTasks=Object.keys(this._scheduledTasks),delete this._activeTraces[t.traceId]},c.prototype._finish=function(){if(this._alreadFinished!==!0){this._alreadFinished=!0;for(var t in this.events){var e=this.events[t],n=new i(this,t,t,this._options);n.ended=!0,n._start=e.start,n._diff=e.time,n._end=e.end,n.setParent(this._rootTrace),this.traces.push(n)}this._adjustStartToEarliestTrace(),this._adjustEndToLatestTrace();var r=this,o=r.traces.map(function(t){return t._isFinish});a.all(o).then(function(){r.donePromise._resolve(r)})}},c.prototype._adjustEndToLatestTrace=function(){var t=o(this.traces);"undefined"!=typeof t&&(this._rootTrace._end=t._end,this._rootTrace.calcDiff())},c.prototype._adjustStartToEarliestTrace=function(){var t=r(this.traces);t&&(this._rootTrace._start=t._start,this._rootTrace._startStamp=t._startStamp,this._rootTrace.calcDiff(),this._startStamp=this._rootTrace._startStamp,this._start=this._rootTrace._start)},e.exports=c},{"../lib/utils":47,"./trace":49,"es6-promise":2}],51:[function(t,e,n){function r(t,e,n){this._config=n,"undefined"==typeof n&&e.debug("TransactionService: config is not provided"),this._queue=[],this._logger=e,this._zoneService=t,this.transactions=[],this.nextId=1,this.taskMap={},this._queue=[],this._subscription=new a;var r=this;t.spec.onAddTask=function(t){r.addTask(t)},t.spec.onRemoveTask=function(t){r.removeTask(t)},t.spec.onDetectFinish=function(){r.detectFinish()}}var o=t("./transaction"),i=t("../lib/utils"),a=t("../common/subscription");r.prototype.getTransaction=function(t){return this.transactions[t]},r.prototype.createTransaction=function(t,e){},r.prototype.startTransaction=function(t,e){var n=this,r=this._config.get("performance");if(r.enable){var i=this._zoneService.get("transaction");if("undefined"==typeof i||i.ended?(i=new o(t,e,r),this._zoneService.set("transaction",i)):(i.name=t,i.type=e,i._options=r),-1===this.transactions.indexOf(i)){this._logger.debug("TransactionService.startTransaction",i);var a=i.donePromise;a.then(function(t){n._logger.debug("TransactionService transaction finished",i),n.add(i),n._subscription.applyAll(n,[i]);var e=n.transactions.indexOf(i);-1!==e&&n.transactions.splice(e,1)}),this.transactions.push(i)}return i}},r.prototype.startTrace=function(t,e,n){var r=this._config.get("performance");if(r.enable){var a=this._zoneService.get("transaction");i.isUndefined(a)||a.ended?(a=new o("ZoneTransaction","transaction",r),this._zoneService.set("transaction",a),this._logger.debug("TransactionService.startTrace - ZoneTransaction",t,e)):this._logger.debug("TransactionService.startTrace",t,e);var s=a.startTrace(t,e,n);return s}},r.prototype.isLocked=function(){return!1},r.prototype.add=function(t){var e=this._config.get("performance");e.enable&&(this._queue.push(t),this._logger.debug("TransactionService.add",t))},r.prototype.getTransactions=function(){return this._queue},r.prototype.clearTransactions=function(){this._queue=[]},r.prototype.subscribe=function(t){return this._subscription.subscribe(t)},r.prototype.addTask=function(t){var e=this._zoneService.get("transaction");i.isUndefined(e)||e.ended||(e.addTask(t),this._logger.debug("TransactionService.addTask",t))},r.prototype.removeTask=function(t){var e=this._zoneService.get("transaction");i.isUndefined(e)||e.ended||(e.removeTask(t),this._logger.debug("TransactionService.removeTask",t))},r.prototype.detectFinish=function(){var t=this._zoneService.get("transaction");i.isUndefined(t)||t.ended||(t.detectFinish(),this._logger.debug("TransactionService.detectFinish"))},e.exports=r},{"../common/subscription":35,"../lib/utils":47,"./transaction":50}],52:[function(t,e,n){function r(t,e){function n(t){return function(e){var n,r=this,i=o.argumentsToArray(arguments);return i[0]=o.wrapAfter(e,function(){r._removeTransactionTask("raf"+n),r.log(" - requestAnimationFrame ")}),n=t.apply(this,i),r._addTransactionTask("raf"+n),r.log(" + requestAnimationFrame "),n}}function r(t){this._removeTransactionTask("raf"+t),this.log("cancelAnimationFrame")}function s(){}this.events=new i;var c=this.spec={onAddTask:s,onRemoveTask:s,onDetectFinish:s},u={log:function(t,n){var r="Zone("+this.$id+") parent("+this.parent.$id+") "+t,o=[r];a.isUndefined(n)||o.push(n),e.debug.apply(e,o)},beforeTask:function(){var t=this.signature;this.log("beforeTask","undefined"==typeof t?void 0:" signature: "+t)},afterTask:function(){var t=this.signature;this.log("afterTask","undefined"==typeof t?void 0:" signature: "+t),this._detectFinish()},$setTimeout:function(t){return function(e,n){var r=this;if(0===n){var i,a=o.argumentsToArray(arguments);return a[0]=o.wrapAfter(e,function(){r._removeTransactionTask("setTimeout"+i),r.log(" - setTimeout "," delay: "+n)}),i=t.apply(this,a),r._addTransactionTask("setTimeout"+i),r.log(" + setTimeout "," delay: "+n),i}return t.apply(this,arguments)}},"-clearTimeout":function(t){this._removeTransactionTask("setTimeout"+t),this.log("clearTimeout",this.timeout)},$requestAnimationFrame:n,"-cancelAnimationFrame":r,$webkitRequestAnimationFrame:n,"-webkitCancelAnimationFrame":r,$mozRequestAnimationFrame:n,"-mozCancelAnimationFrame":r};this.zone=t.fork(u),this.zone._addTransactionTask=function(t){c.onAddTask(t)},this.zone._removeTransactionTask=function(t){c.onRemoveTask(t)},this.zone._detectFinish=function(){c.onDetectFinish()}}var o=t("../patching/patchUtils"),i=t("../common/subscription"),a=t("../lib/utils");r.prototype.set=function(t,e){window.zone[t]=e},r.prototype.get=function(t){return window.zone[t]},r.prototype.getCurrentZone=function(){return window.zone},e.exports=r},{"../common/subscription":35,"../lib/utils":47,"../patching/patchUtils":48}]},{},[30]);